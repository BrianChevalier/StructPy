% Copyright note: This package defines how titles should
% be typeset at the columbidae University
% Please check for updates
\ProvidesPackage{TitlePage}
\RequirePackage{graphicx}
\RequirePackage{multicol}

\RequirePackage{sectsty}
% Two column layout
% These commands will adjust the two column layout to look a bit better
% see: http://scholardox.com/pubs/Landscape.pdf
\setlength{\textheight}{17cm}
\setlength{\textwidth}{23cm}
\setlength{\topmargin}{-2.2cm}
\setlength{\oddsidemargin}{0.0cm}
\setlength{\evensidemargin}{\oddsidemargin}
\setlength{\parskip}{0cm}
\setlength{\columnsep}{1cm}
\sectionfont{\normalsize}
\subsectionfont{\normalsize}

% Fancy Header Commands
\RequirePackage{fancyhdr}
\pagestyle{fancy}
\setlength{\headheight}{15.2pt}
\fancyhf{}
\lhead{\leftmark}
\rhead{CEE321--Structural Analysis}
\lfoot{\textit{\@author}}

% Define needed new commands for title page
\newcommand*{\subject}[1]{\gdef\@subject{#1}}
\newcommand*{\@subject}{\texttt{\string\subject} currently not set. Please define this.}

\newcommand*{\subtitle}[1]{\gdef\@subtitle{#1}}
\newcommand*{\@subtitle}{\texttt{\string\subtitle} currently not set. Please define this.}

\newcommand*{\titleimage}[1]{\gdef\@titleimage{#1}}
\newcommand*{\@titleimage}{example-image-c} %if image not set

\renewcommand*{\maketitle}{%

\begin{titlepage}

\begin{multicols}{2}

\centering

\vspace{2cm}

{\small\bfseries\@subject\unskip\strut\par}
\vspace{0.5cm}
{\Large\bfseries\@title\unskip\strut\par}
\vspace{0.5cm}
{\large\itshape\@subtitle\unskip\strut\par}

\begin{center}
	\includegraphics[width = 0.7\columnwidth]{\@titleimage}
\end{center}

{\scshape\LARGE Arizona State University \par}
\vspace{0.5cm}
{\Large\itshape\@author\unskip\strut\par}
\vspace{0.5cm}
{\large Updated: \@date\par}

\columnbreak \vspace*{0.1\textheight}

\begin{tcolorbox}[height=0.8\textheight, width=\columnwidth, colframe=gray, colback=lightgray, halign=left, arc=3mm]
	\tableofcontents
\end{tcolorbox}


\end{multicols}

\end{titlepage}

}
\endinput